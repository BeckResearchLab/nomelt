schema: '2.0'
stages:
  prepare_data:
    cmd: python scripts/prepare_data.py
    deps:
    - path: ./data/database.ddb
      hash: md5
      md5: b51482d0b753298b2bd522729dc69767
      size: 14074523648
    - path: ./nomelt/deduplication.py
      hash: md5
      md5: 43a77592878fbad6b852803f56c01114
      size: 13055
    - path: ./scripts/prepare_data.py
      hash: md5
      md5: ddd612e1152c723bbf5e745aa153b4d5
      size: 9841
    params:
      params.yaml:
        data.dev_sample_data: false
        data.min_align_cov: 0.95
        data.min_temp_diff: 35.0
        data.min_thermo_temp: 65.0
        data.mmseq_params:
          coverage: 0.8
          min-seq-id: 0.2
          cluster-mode: 1
          similarity-type: 1
          e: 0.001
        data.test_size: 0.1
    outs:
    - path: ./data/data_metrics.yaml
      hash: md5
      md5: 2b73ec17b7e3e97a4b0db721ebb42718
      size: 92
    - path: ./data/dataset/
      hash: md5
      md5: 694dcc3c2816dab11e4ee6c29976d0a5.dir
      size: 822169547
      nfiles: 11
  blast_test_train:
    cmd: python scripts/blast_test_train.py
    deps:
    - path: ./data/dataset/
      hash: md5
      md5: 694dcc3c2816dab11e4ee6c29976d0a5.dir
      size: 822169547
      nfiles: 11
    - path: ./scripts/blast_test_train.py
      hash: md5
      md5: 50ddd31336baf785e8bef3f6b66a3124
      size: 3108
    outs:
    - path: ./data/plots/test_train_blast_hist.png
      hash: md5
      md5: c2143e5887a3daf540c72f25e995cc9a
      size: 135130
    - path: ./data/test_train_blast_metrics.json
      hash: md5
      md5: cd1cab15c21d528c6f1f04bb69f26daf
      size: 609
